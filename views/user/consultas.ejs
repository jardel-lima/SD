<!DOCTYPE html>
<div ng-app="consultas"  ng-controller="consultasController">
	<div class="modal fade" id="alert_modal" role="dialog">
	    <div class="modal-dialog modal-sm">
	      <div class="modal-content">
	        <div class="modal-header" style="background-color:green; color:white;">
	          <h4 class="modal-title">{{modal_title}}</h4>
	        </div>
	        <div class="modal-body">
	          <p>{{modal_body}}</p>
	        </div>
	        <div class="modal-footer">
	          <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
	        </div>
	      </div>
	    </div>
  </div>
	<div class="row">
		<div class="col-md-12">

			<div class="panel panel-primary" style =" margin: auto; border-color:green;">
			  <div class="panel-heading" style="background-color:green">Consultas</div>
			  <div class="panel-body">
			  		<div class="row">
			  			<div class="col-md-12">
						  	<div class="col-md-8">	
						  		<div class="input-group"  style="width:100%;">
									<span id="localiar_addon"class="input-group-addon glyphicon glyphicon-search"></span>  
								  	<input style="width:90%;" ng-model="lPaciente" class="form-control input-md" required type="text" aria-describedby="localiar_addon">
								</div>
							</div>
					  	</div>
					</div>
				</br>
					<div class="row">
						<div class="col-md-12">
					   		<table class= "table table-striped table-bordered table-hover">
									<thead>
										<th style='width:5%;'>N</th> <th style='width:30%;'>Paciente</th> <th style='width:25%;'>Data da Última Consulta</th> <th style='width:25%';>Data Nova Consulta</th> <th style='width:15%;'>Notificação</th>     
									</thead>
									<tr   ng-repeat="consulta in consultaList | filter: lPaciente | orderBy: 'data' : true " id={{consulta.id}} ng-click="loadConsulta(consulta.id)" class="animate-repeat" ng-class="{'info':(consulta.msg.length > 0)}">
										<!--<td>{{consulta}}</td>-->
											<td> {{consulta.id}}</td>
											<td>{{consulta.paciente.nome}}</td>
											<td>{{consulta.data | date:'dd/MM/yyyy'}}</td>
											<td>{{consulta.data_revisao ? consulta.data_revisao : 'NÃO DEFINIDA' | date:'dd/MM/yyyy'}}</td>
											<td>
												<span>{{((consulta.msg.length > 0)&& consulta.msg) ? 'SIM' : 'NÃO'}} </span>
											</td>
									</tr>
									<tbody>
									</tbody>
					   		</table>
					   	</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</br>
	<div class="row">
		<div class="col-md-4">
	  			<button type="submit" class="btn btn-default" ng-click="nova_consulta()">Nova Consulta</button>
	  	</div>
	</div>
</div>
<script src="/js/consultas.js"></script>
